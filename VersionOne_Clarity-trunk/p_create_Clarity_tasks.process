{"externalDatasets":[],"components":[{"componentType":"Invoker","type":"REST Invoker 1.0.0","name":"VersionOne REST Invoker - Workitems","globalTransaction":false,"options":[{"hidden":false,"value":"HTTP","displayname":"Protocol","name":"protocol","description":null,"displayvalue":"HTTP","editable":true},{"hidden":false,"value":"$(VersionOne_endpoint)Workitem","displayname":"URL","name":"url","description":null,"displayvalue":"$(VersionOne_endpoint)Workitem","editable":true},{"hidden":false,"value":"BODY","displayname":"Send Source Via","name":"sendUrlData","description":null,"displayvalue":"BODY","editable":true},{"hidden":false,"value":"UTF-8","displayname":"Message Encoding","name":"globalEncoding","description":null,"displayvalue":"UTF-8","editable":true},{"hidden":false,"value":"text/xml; charset=UTF-8","displayname":"Content Type","name":"contentType","description":null,"displayvalue":"text/xml; charset=UTF-8","editable":true},{"hidden":false,"value":"$(VersionOne_username)","displayname":"HTTP Username","name":"httpUsername","description":null,"displayvalue":"$(VersionOne_username)","editable":true},{"hidden":false,"value":"$(VersionOne_password)","displayname":"HTTP Password","name":"httpPassword","description":null,"displayvalue":"$(VersionOne_password)","editable":true},{"hidden":false,"value":"","displayname":"Domain (NTLM Only)","name":"userDomain","description":null,"displayvalue":"","editable":true},{"hidden":false,"value":"","displayname":"Proxy Server","name":"proxyServer","description":null,"displayvalue":"","editable":true},{"hidden":false,"value":"","displayname":"Proxy Port","name":"proxyPort","description":null,"displayvalue":"","editable":true},{"hidden":false,"value":"","displayname":"Proxy Username","name":"proxyUser","description":null,"displayvalue":"","editable":true},{"hidden":false,"value":"","displayname":"Proxy Password","name":"proxyPswd","description":null,"displayvalue":"","editable":true}]}],"annotations":[],"sessions":[],"externalSessions":[],"breakOnFirstError":true,"variables":[{"description":"","initialValue":"","name":"Clarity_Project_rowset","is_public":true,"array":false,"dims":[],"type":"DJRowSet"},{"description":"","initialValue":"False","name":"foundNewTask","is_public":true,"array":false,"dims":[],"type":"Variant"}],"script_libraries":[],"links":[{"source":"Start","target":"Set up REST invoker","data":"160,91 235,91","decision":""},{"source":"Set up REST invoker","target":"Get VersionOne data","data":"329,91 395.5,91","decision":""},{"source":"Get VersionOne data","target":"Clean up XML","data":"508.5,91 566,91","decision":""},{"source":"Clean up XML","target":"Read into memory","data":"664,91 722,91","decision":""},{"source":"Send to Clarity PPM","target":"Stop","data":"1316,179 1360,127","decision":""},{"source":"Read into memory","target":"Read Clarity Projects","data":"802,91 869,91","decision":""},{"source":"Read Clarity Projects","target":"Create task XML","data":"963,91 1016.5,91","decision":""},{"source":"Create task XML","target":"Found new Tasks?","data":"1129.5,90 1182.5,90","decision":""},{"source":"Found new Tasks?","target":"Send to Clarity PPM","data":"1246,125 1268,170","decision":"True"},{"source":"Found new Tasks?","target":"Stop","data":"1267.5,90 1357,91","decision":"False"}],"ui":{"dividerY":279,"paletteX":458,"paletteY":279},"maxThreads":1,"steps":[{"target":"$(DATA)/VersionOne_Workitems.xml","description":"","source":"DJMessage:///outMsg","styleSheet":"script_clean_up_xml","enabled":true,"name":"Clean up XML","type":"XSLT","x":566,"y":50,"ignoreError":false},{"targetDatasets":[{"name":"TARGET_1","dataset_rref":"m_create_task_XML_trg_ds"}],"description":"","sourceDatasets":[{"name":"SOURCE","dataset_rref":"m_create_task_XML_src_ds"}],"map":"m_create_task_XML","lookupDatasets":[],"enabled":true,"name":"Create task XML","type":"Transformation","x":1017,"y":50,"ignoreError":false},{"description":"","enabled":true,"name":"Found new Tasks?","expression":"foundNewTask","type":"Decision","x":1183,"y":49,"ignoreError":false},{"description":"","parameters":[{"position":0,"value":"inMsg","name":"SourceMessage"},{"position":1,"value":"outMsg","name":"TargetMessage"}],"enabled":true,"name":"Get VersionOne data","component":"VersionOne REST Invoker - Workitems","options":[{"value":"GET","name":"httpMethod"},{"value":"sel=Name,Number,Timebox.BeginDate,Timebox.EndDate&where=Timebox","name":"urlQueryString"},{"value":"","name":"soapAction"},{"value":"5","name":"retryCount"},{"value":"30","name":"timeout"},{"value":"true","name":"logHeaders"},{"value":"","name":"responseFile"}],"type":"Invoker","x":396,"y":50,"ignoreError":false,"action":"Execute"},{"targetDatasets":[{"name":"TARGET_1","dataset_rref":"m_read_Clarity_resources_trg_ds"}],"description":"This map reads all Clarity Projects into an incore lookup table in order to get the name of the project with the ID that came from the VersionOne Scope.Reference field.","sourceDatasets":[{"name":"SOURCE","dataset_rref":"m_read_Clarity_projects_src_ds"}],"map":"m_read_Clarity_projects","lookupDatasets":[],"enabled":true,"name":"Read Clarity Projects","type":"Transformation","x":869,"y":50,"ignoreError":false},{"targetDatasets":[{"name":"TARGET_1","dataset_rref":"m_read_workitems_into_memory_trg_ds"}],"description":"","sourceDatasets":[{"name":"SOURCE","dataset_rref":"m_read_workitems_into_memory_src_ds"}],"map":"m_read_workitems_into_memory","lookupDatasets":[],"enabled":true,"name":"Read into memory","type":"Transformation","x":722,"y":50,"ignoreError":false},{"targetDatasets":[{"name":"TARGET_1","dataset_rref":"m_create_Clarity_tasks_trg_ds1"}],"description":"","sourceDatasets":[{"name":"SOURCE","dataset_rref":"m_create_Clarity_tasks_src_ds1"}],"map":"m_create_Clarity_tasks","lookupDatasets":[],"enabled":true,"name":"Send to Clarity PPM","type":"Transformation","x":1229,"y":173,"ignoreError":false},{"description":"","enabled":true,"name":"Set up REST invoker","expression":"Dim inMsg as DJMessage\rDim outMsg as DJMessage\r\rSet inMsg = FindMessage(\"inMsg\")\rIf inMsg is nothing Then\r\tSet inMsg = new DJMessage \"inMsg\"\rEnd If\r\rSet outMsg = FindMessage(\"outMsg\")\rIf outMsg is nothing Then\r\tSet outMsg = new DJMessage \"outMsg\"\rEnd If\r","type":"Script","x":235,"y":50,"script":"","ignoreError":false},{"description":"","enabled":true,"name":"Start","expression":"Set Clarity_Project_rowset = New DJRowSet \"Clarity_Project_rowset\"","type":"Start","x":100,"y":50,"script":"","ignoreError":false},{"description":"","enabled":true,"name":"Stop","expression":"ILClear(\"VersionOne_workitems_incore\")\rILClear(\"Clarity_projects\")\r","type":"Stop","x":1356,"y":50,"script":"","ignoreError":false}]}