{"maxThreads":1,"components":[{"name":"VersionOne REST Invoker - Actuals","componentType":"Invoker","options":[{"value":"HTTP","name":"protocol","editable":true,"displayvalue":"HTTP","description":null,"hidden":false,"displayname":"Protocol"},{"value":"$(VersionOne_endpoint)Actual","name":"url","editable":true,"displayvalue":"$(VersionOne_endpoint)Actual","description":null,"hidden":false,"displayname":"URL"},{"value":"BODY","name":"sendUrlData","editable":true,"displayvalue":"BODY","description":null,"hidden":false,"displayname":"Send Source Via"},{"value":"UTF-8","name":"globalEncoding","editable":true,"displayvalue":"UTF-8","description":null,"hidden":false,"displayname":"Message Encoding"},{"value":"text/xml; charset=UTF-8","name":"contentType","editable":true,"displayvalue":"text/xml; charset=UTF-8","description":null,"hidden":false,"displayname":"Content Type"},{"value":"$(VersionOne_username)","name":"httpUsername","editable":true,"displayvalue":"$(VersionOne_username)","description":null,"hidden":false,"displayname":"HTTP Username"},{"value":"$(VersionOne_password)","name":"httpPassword","editable":true,"displayvalue":"$(VersionOne_password)","description":null,"hidden":false,"displayname":"HTTP Password"},{"value":"","name":"userDomain","editable":true,"displayvalue":"","description":null,"hidden":false,"displayname":"Domain (NTLM Only)"},{"value":"","name":"proxyServer","editable":true,"displayvalue":"","description":null,"hidden":false,"displayname":"Proxy Server"},{"value":"","name":"proxyPort","editable":true,"displayvalue":"","description":null,"hidden":false,"displayname":"Proxy Port"},{"value":"","name":"proxyUser","editable":true,"displayvalue":"","description":null,"hidden":false,"displayname":"Proxy Username"},{"value":"","name":"proxyPswd","editable":true,"displayvalue":"","description":null,"hidden":false,"displayname":"Proxy Password"}],"globalTransaction":false,"type":"REST Invoker 1.0.0"}],"variables":[{"dims":[],"name":"VersionOne_Actuals_rowset","description":"","type":"DJRowSet","is_public":true,"array":false,"initialValue":""}],"ui":{"paletteX":1373,"paletteY":223,"dividerY":365},"sessions":[],"links":[{"decision":"","source":"Set up REST invoker Actual call","data":"342,91 411.5,91","target":"REST invoker Actual call"},{"decision":"","source":"REST invoker Actual call","data":"510.5,91 583,91","target":"Clean up XML"},{"decision":"","source":"Read into memory","data":"829,91 899,91","target":"Update lastRunDate"},{"decision":"","source":"Update lastRunDate","data":"989,91 1049.5,91","target":"Output rowset"},{"decision":"","source":"Output rowset","data":"1148.5,91 1209,91","target":"Stop"},{"decision":"","source":"Start","data":"160,91 238,91","target":"Set up REST invoker Actual call"},{"decision":"","source":"Clean up XML","data":"681,91 749,91","target":"Read into memory"}],"steps":[{"type":"XSLT","target":"$(DATA)/VersionOne_Actuals.xml","name":"Clean up XML","enabled":true,"source":"DJMessage:///outMsg","description":"","styleSheet":"script_clean_up_xml","y":50,"x":583,"ignoreError":false},{"type":"Script","script":"","name":"Output rowset","enabled":false,"description":"This step will output all of the rows of the rowset that contains the Actuals read from VersionOne.","expression":"For counter = 1 to VersionOne_Actuals_rowset.Size\r\tFor inner = 1 to VersionOne_Actuals_rowset.FieldCount(counter)\r\t\tLogMessage(\"info\", \"V1 rowset row \" & counter & \", field \" & inner & \" :: \" & VersionOne_Actuals_rowset.Value(counter, inner))\r\tNext inner\rNext counter","y":50,"x":1050,"ignoreError":false},{"map":"m_read_Actuals_into_memory","type":"Transformation","targetDatasets":[{"dataset_rref":"m_update_lastRunDate_trg_ds","name":"TARGET_1"}],"sourceDatasets":[{"dataset_rref":"m_update_lastRunDate_src_ds","name":"SOURCE"}],"name":"Read into memory","lookupDatasets":[],"enabled":true,"description":"","y":50,"x":749,"ignoreError":false},{"parameters":[{"position":0,"value":"inMsg","name":"SourceMessage"},{"position":1,"value":"outMsg","name":"TargetMessage"}],"action":"Execute","type":"Invoker","options":[{"value":"GET","name":"httpMethod"},{"value":"sel=AssetType,Workitem.Reference,Scope.Reference,Member.Email,Date,Value,ChangeDateUTC&where=Workitem.Reference;Scope.Reference;Member.Email;ChangeDateUTC%3E'$(QueryDate)'","name":"urlQueryString"},{"value":"","name":"soapAction"},{"value":"5","name":"retryCount"},{"value":"30","name":"timeout"},{"value":"true","name":"logHeaders"},{"value":"","name":"responseFile"}],"component":"VersionOne REST Invoker - Actuals","name":"REST invoker Actual call","enabled":true,"description":"","y":50,"x":412,"ignoreError":false},{"type":"Script","script":"","name":"Set up REST invoker Actual call","enabled":true,"description":"","expression":"Dim inMsg as DJMessage\rDim outMsg as DJMessage\r\rSet inMsg = FindMessage(\"inMsg\")\rIf inMsg is nothing Then\r\tSet inMsg = new DJMessage \"inMsg\"\rEnd If\r\rSet outMsg = FindMessage(\"outMsg\")\rIf outMsg is nothing Then\r\tSet outMsg = new DJMessage \"outMsg\"\rEnd If\r","y":50,"x":238,"ignoreError":false},{"type":"Start","script":"","name":"Start","enabled":true,"description":"","expression":"","y":50,"x":100,"ignoreError":false},{"type":"Stop","script":"","name":"Stop","enabled":true,"description":"","expression":"Set inMsg = nothing\rSet outMsg = nothing\r","y":50,"x":1209,"ignoreError":false},{"map":"m_update_lastRunDate","type":"Transformation","targetDatasets":[{"dataset_rref":"m_update_lastRunDate_trg_ds","name":"TARGET_1"}],"sourceDatasets":[{"dataset_rref":"m_update_lastRunDate_src_ds","name":"SOURCE"}],"name":"Update lastRunDate","lookupDatasets":[],"enabled":true,"description":"","y":50,"x":899,"ignoreError":false}],"externalDatasets":[],"annotations":[],"externalSessions":[],"breakOnFirstError":true,"script_libraries":[]}