{"variables":[{"description":"","type":"DJRowSet","name":"VersionOne_Actuals_rowset","is_public":true,"array":false,"initialValue":"","dims":[]}],"links":[{"target":"Clean up XML","data":"620.5,91 658,91","source":"REST invoker Actual call","decision":""},{"target":"Stop","data":"1039.5,91 1110,91","source":"Output rowset","decision":""},{"target":"Read into memory","data":"756,91 806,91","source":"Clean up XML","decision":""},{"target":"Set QueryDate macro","data":"160,91 219.5,91","source":"Start","decision":""},{"target":"Set up REST invoker Actual call","data":"326.5,91 365,91","source":"Set QueryDate macro","decision":""},{"target":"REST invoker Actual call","data":"469,91 521.5,91","source":"Set up REST invoker Actual call","decision":""},{"target":"Output rowset","data":"886,91 940.5,91","source":"Read into memory","decision":""}],"steps":[{"x":658,"source":"DJMessage:///outMsg","y":50,"description":"","type":"XSLT","name":"Clean up XML","target":"$(DATA)/VersionOne_Actuals.xml","ignoreError":false,"enabled":true,"styleSheet":"script_clean_up_xml"},{"x":941,"y":50,"description":"This step will output all of the rows of the rowset that contains the Actuals read from VersionOne.","type":"Script","name":"Output rowset","expression":"'Enable this step to see what the rowset looks like when the process is finished\r' All actuals for the same person on the same project, task, and day have been combined into a single entry\r\rFor counter = 1 to VersionOne_Actuals_rowset.Size\r\tFor inner = 1 to VersionOne_Actuals_rowset.FieldCount(counter)\r\t\tLogMessage(\"info\", \"V1 rowset row \" & counter & \", field \" & inner & \" :: \" & VersionOne_Actuals_rowset.Value(counter, inner))\r\tNext inner\rNext counter","ignoreError":false,"enabled":false,"script":""},{"x":806,"y":50,"description":"","lookupDatasets":[],"type":"Transformation","sourceDatasets":[{"dataset_rref":"m_update_lastRunDate_src_ds","name":"SOURCE"}],"name":"Read into memory","map":"m_read_Actuals_into_memory","ignoreError":false,"enabled":true,"targetDatasets":[{"dataset_rref":"m_update_lastRunDate_trg_ds","name":"TARGET_1"}]},{"x":522,"y":50,"description":"","type":"Invoker","component":"VersionOne REST Invoker - Actuals","name":"REST invoker Actual call","options":[{"value":"GET","name":"httpMethod"},{"value":"sel=AssetType,Workitem.Reference,Scope.Reference,Member.Email,Date,Value,ChangeDateUTC,Workitem.Number&where=Workitem.Timebox;Scope.Reference;Member.Email;ChangeDateUTC%3E'$(QueryDate)'","name":"urlQueryString"},{"value":"","name":"soapAction"},{"value":"5","name":"retryCount"},{"value":"30","name":"timeout"},{"value":"true","name":"logHeaders"},{"value":"","name":"responseFile"}],"ignoreError":false,"enabled":true,"action":"Execute","parameters":[{"position":0,"value":"inMsg","name":"SourceMessage"},{"position":1,"value":"outMsg","name":"TargetMessage"}]},{"x":220,"y":50,"description":"","type":"Script","name":"Set QueryDate macro","expression":"'Enabling this step will allow you to run this process stand-alone, rather than running the whole integration\r' This is useful in debugging.  Be sure to fill in an appropriate date value.\rDefineMacro(\"QueryDate\", \"2012-08-04T21:07:31.067\")","ignoreError":false,"enabled":false,"script":""},{"x":365,"y":50,"description":"","type":"Script","name":"Set up REST invoker Actual call","expression":"Dim inMsg as DJMessage\rDim outMsg as DJMessage\r\rSet inMsg = FindMessage(\"inMsg\")\rIf inMsg is nothing Then\r\tSet inMsg = new DJMessage \"inMsg\"\rEnd If\r\rSet outMsg = FindMessage(\"outMsg\")\rIf outMsg is nothing Then\r\tSet outMsg = new DJMessage \"outMsg\"\rEnd If\r","ignoreError":false,"enabled":true,"script":""},{"x":100,"y":50,"description":"","type":"Start","name":"Start","expression":"","ignoreError":false,"enabled":true,"script":""},{"x":1110,"y":50,"description":"","type":"Stop","name":"Stop","expression":"Set inMsg = nothing\rSet outMsg = nothing\r","ignoreError":false,"enabled":true,"script":""}],"externalDatasets":[],"annotations":[],"externalSessions":[],"breakOnFirstError":true,"script_libraries":[],"maxThreads":1,"components":[{"name":"VersionOne REST Invoker - Actuals","options":[{"displayname":"Protocol","value":"HTTP","name":"protocol","description":null,"editable":true,"displayvalue":"HTTP","hidden":false},{"displayname":"URL","value":"$(VersionOne_endpoint)Actual","name":"url","description":null,"editable":true,"displayvalue":"$(VersionOne_endpoint)Actual","hidden":false},{"displayname":"Send Source Via","value":"BODY","name":"sendUrlData","description":null,"editable":true,"displayvalue":"BODY","hidden":false},{"displayname":"Message Encoding","value":"UTF-8","name":"globalEncoding","description":null,"editable":true,"displayvalue":"UTF-8","hidden":false},{"displayname":"Content Type","value":"text/xml; charset=UTF-8","name":"contentType","description":null,"editable":true,"displayvalue":"text/xml; charset=UTF-8","hidden":false},{"displayname":"HTTP Username","value":"$(VersionOne_username)","name":"httpUsername","description":null,"editable":true,"displayvalue":"$(VersionOne_username)","hidden":false},{"displayname":"HTTP Password","value":"$(VersionOne_password)","name":"httpPassword","description":null,"editable":true,"displayvalue":"$(VersionOne_password)","hidden":false},{"displayname":"Domain (NTLM Only)","value":"","name":"userDomain","description":null,"editable":true,"displayvalue":"","hidden":false},{"displayname":"Proxy Server","value":"","name":"proxyServer","description":null,"editable":true,"displayvalue":"","hidden":false},{"displayname":"Proxy Port","value":"","name":"proxyPort","description":null,"editable":true,"displayvalue":"","hidden":false},{"displayname":"Proxy Username","value":"","name":"proxyUser","description":null,"editable":true,"displayvalue":"","hidden":false},{"displayname":"Proxy Password","value":"","name":"proxyPswd","description":null,"editable":true,"displayvalue":"","hidden":false}],"globalTransaction":false,"type":"REST Invoker 1.0.0","componentType":"Invoker"}],"sessions":[],"ui":{"dividerY":429,"paletteX":1341,"paletteY":122}}
